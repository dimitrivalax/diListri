{"version":3,"sources":["../../src/pages/todo-list/todo_list.module.ts","../../src/pages/todo-list/core/todo.actions.ts","../../src/pages/todo-list/core/todo.reducer.ts","../../node_modules/uuid/lib/rng-browser.js","../../node_modules/uuid/lib/bytesToUuid.js","../../src/pages/todo-list/todo_list.ts","../../node_modules/uuid/index.js","../../node_modules/uuid/v1.js","../../node_modules/uuid/v4.js","../../src/pages/todo-list/core/todo.effect.ts","../../node_modules/rxjs/add/operator/withLatestFrom.js"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TodosPage } from './todo_list';\nimport { EffectsModule } from '@ngrx/effects';\nimport { TodoEffects } from './core/todo.effect';\nimport { StoreModule } from '@ngrx/store';\nimport { TODO_KEY, todoReducer } from './core/todo.reducer';\nimport { metaReducers } from '../../app/core/core.module';\n\n\n@NgModule({\n  declarations: [\n    TodosPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TodosPage),\n    TranslateModule.forChild(),\n    StoreModule.forFeature(TODO_KEY, {\n      todoReducer,\n    },\n    { metaReducers }),\n    EffectsModule.forFeature([TodoEffects])\n  ],\n  exports: [\n    TodosPage\n  ]\n})\nexport class TodosPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/todo-list/todo_list.module.ts","import { Action } from \"@ngrx/store\";\nimport { Todo } from \"../../../models/todo\";\nimport { TodoState } from \"./todo.reducer\";\n\nexport enum TodoActionTypes {\n  STORE_TODO_STATE = '[Todo] Store todo state',\n  ADD_TODO = '[Todo] Add',\n  UPDATE_TODO = '[Todo] Update',\n  DELETE_TODO = '[Todo] Delete'\n}\n\nexport class AddTodo implements Action {\n  readonly type = TodoActionTypes.ADD_TODO;\n  constructor(public payload: Todo) {}\n}\n\nexport class UpdateTodo implements Action {\n  readonly type = TodoActionTypes.UPDATE_TODO;\n  constructor(public payload: Todo) {}\n}\n\nexport class DeleteTodo implements Action {\n  readonly type = TodoActionTypes.DELETE_TODO;\n  constructor(public payload: String) {}\n}\n\nexport class StoreTodoState implements Action {\n  readonly type = TodoActionTypes.STORE_TODO_STATE;\n  constructor(public payload: TodoState) {}\n}\n\nexport type TodoActions = AddTodo | DeleteTodo | StoreTodoState;\n\n\n// WEBPACK FOOTER //\n// ./src/pages/todo-list/core/todo.actions.ts","import { v4 as uuid } from 'uuid';\nimport { Todo } from \"../../../models/todo\";\nimport { TodoActionTypes } from './todo.actions';\n\nexport const TODO_KEY = 'todo_feature';\n\nexport const selectTodos = (state: TodoState) => state[TODO_KEY].todoReducer.items;\nexport const selectTodoState = (state: TodoState) => state[TODO_KEY].todoReducer;\n\nexport interface TodoState {\n  items: Todo[];\n}\n\nconst initialState = {items : []};\n\nexport function todoReducer(state = initialState, action) {\n  console.log(action);\n    switch (action.type) {\n      case TodoActionTypes.ADD_TODO:\n        action.payload.id = uuid();\n        state.items = [...state.items, ...action.payload]\n        return state;\n      case TodoActionTypes.UPDATE_TODO:\n        return [...state.items, ...action.payload];\n      case TodoActionTypes.DELETE_TODO:\n        return state.items.filter(todo => todo.id !== action.payload);  \n      default:\n        return state;\n    }\n  \n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/todo-list/core/todo.reducer.ts","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/rng-browser.js\n// module id = 470\n// module chunks = 0","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/lib/bytesToUuid.js\n// module id = 471\n// module chunks = 0","import { Component } from '@angular/core';\nimport { IonicPage, ModalController, NavController, NavParams, ToastController, AlertController, LoadingController } from 'ionic-angular';\nimport { Vibration } from '@ionic-native/vibration';\nimport { DatePicker } from '@ionic-native/date-picker';\nimport { LocalNotifications } from '@ionic-native/local-notifications';\nimport { ItemSliding } from 'ionic-angular/umd';\nimport { Store, select } from '@ngrx/store';\nimport { Observable } from 'rxjs';\nimport { Todo } from '../../models/todo';\nimport { AddTodo, DeleteTodo, UpdateTodo } from './core/todo.actions';\nimport { selectTodos, TodoState } from './core/todo.reducer';\n\n@IonicPage()\n@Component({\n  selector: 'todo_list',\n  templateUrl: 'todo_list.html'\n})\nexport class TodosPage {\n  currentTodos: Observable<Todo[]>;\n  public press: number = 0;\n\n  constructor(\n    public vibration: Vibration,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public modalCtrl: ModalController,\n    public toastCtrl: ToastController,\n    private alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    private store: Store<TodoState>,\n    private datePicker: DatePicker,\n    private localNotifications: LocalNotifications\n  ) {\n    this.currentTodos = this.store.pipe(select(selectTodos))\n  }\n\n  /**\n   * Perform a service for the proper items.\n   */\n  getTodos(ev) {\n    let val = ev.target.value;\n    if (!val || !val.trim()) {\n      return;\n    }\n  }\n\n  /**\n   * Navigate to the detail page for this item.\n   */\n  openTodo(todo: Todo) {\n    this.navCtrl.push('ItemDetailPage', {\n      todo: todo\n    });\n  }\n\n  openAddTodoModal() {\n    let addModal = this.modalCtrl.create('ItemCreatePage');\n    addModal.onDidDismiss(todo => {\n      if (todo) {\n        console.log(todo);\n        this.addTodo(todo)\n      }\n    });\n    addModal.present();\n  }\n\n  addTodo(todo: Todo) {\n    this.store.dispatch(new AddTodo(todo));\n  }\n\n  pressEvent(ev) {\n    this.press++;\n    this.vibration.vibrate(150);\n    let toast = this.toastCtrl.create({\n      message: 'please slide to get the options .',\n      duration: 2000,\n      position: 'top'\n    });\n    toast.present();\n  }\n\n  deleteTodoAction(id : String) {\n    this.store.dispatch(new DeleteTodo(id));\n  }\n\n  deleteTodo(todo, slidingItem: ItemSliding) {\n    let alert = this.alertCtrl.create({\n      title: 'Confirm Delete',\n      message: 'Do you want to delete this todo?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            slidingItem.close();\n          }\n        },\n        {\n          text: 'Yes',\n          handler: () => {\n            let loading = this.loadingCtrl.create({\n              content: 'Please wait...'\n            });\n            loading.present();\n            setTimeout(() => {\n              loading.dismiss();\n              this.deleteTodoAction(todo.id)\n              let toast = this.toastCtrl.create({\n                message: 'You have deleted ' + todo['title'] + ' successfully .',\n                duration: 2000,\n                position: 'top'\n              });\n              toast.present();\n            }, 1000);\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  updateToto(todo : Todo){\n    this.store.dispatch(new UpdateTodo(todo));\n  }\n\n  setLocalNotification(todo: Todo, date: Date){\n    this.localNotifications.schedule({\n      title: todo.title.toString(),\n      text: todo.content.toString(),\n      trigger: {at: date},\n      led: 'FF0000',\n      sound: null\n    });\n  }\n\n\n  openDatePicker(todo: Todo){\n    this.datePicker.show({\n      date: new Date(),\n      mode: 'datetime',\n      androidTheme: this.datePicker.ANDROID_THEMES.THEME_DEVICE_DEFAULT_LIGHT\n    }).then(\n      date => {\n        this.updateToto(todo)\n        this.setLocalNotification(todo, date)\n      },\n      err => console.log('Error occurred while getting date: ', err)\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/todo-list/todo_list.ts","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/index.js\n// module id = 484\n// module chunks = 0","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/v1.js\n// module id = 485\n// module chunks = 0","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/uuid/v4.js\n// module id = 486\n// module chunks = 0","import { TodoActionTypes } from './todo.actions';\nimport { Injectable } from '@angular/core';\nimport { Action, Store, select } from '@ngrx/store';\nimport { Actions, Effect } from '@ngrx/effects';\nimport { Observable } from 'rxjs/Observable';\nimport { LocalStorageService } from '../../../app/core/local-storage/local-storage.service';\nimport { TODO_KEY, TodoState } from './todo.reducer';\nimport 'rxjs/add/operator/withLatestFrom';\n\n@Injectable()\nexport class TodoEffects {\n  constructor(private actions$: Actions<Action>, private localStorageService: LocalStorageService, private store$: Store<TodoState>) {}\n\n  @Effect({ dispatch: false })\n  persistTodos(): Observable<Action> {\n    return (\n      this.actions$\n        .ofType(TodoActionTypes.ADD_TODO)\n        // https://blog.angularindepth.com/start-using-ngrx-effects-for-this-e0b2bd9da165\n        .withLatestFrom(this.store$)\n        .switchMap(([action, storeState]) => {\n          this.localStorageService.setItem(TODO_KEY, storeState[TODO_KEY]);\n          return Observable.of();\n        })\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/todo-list/core/todo.effect.ts","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar withLatestFrom_1 = require('../../operator/withLatestFrom');\nObservable_1.Observable.prototype.withLatestFrom = withLatestFrom_1.withLatestFrom;\n//# sourceMappingURL=withLatestFrom.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/add/operator/withLatestFrom.js\n// module id = 488\n// module chunks = 0"],"sourceRoot":""}